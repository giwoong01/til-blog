---
title: 테스트 주도 개발(TDD)
description: 테스트 주도 개발이 무엇인가요?
date: 2026-01-20
tags: [TDD]
---

테스트 주도 개발(TDD, Test Driven Development)은 소프트웨어 개발 방법론 중 하나로, “실제 코드를 작성하기 전에, 테스트 코드를 먼저 작성하는 방식”을 말합니다.

보통은 설계 → 코드 구현 → 테스트 순서로 개발하지만, TDD는 이 순서를 뒤집어 테스트 작성 → 코드 구현 → 리팩토링 순서로 진행합니다.

## 1. TDD의 핵심 사이클 (Red - Green - Refactor)

TDD는 다음 3단계의 주기를 매우 짧고 빠르게 반복하며 개발을 진행합니다.

1. Red (실패하는 테스트 작성)
   - 구현하려는 기능에 대한 테스트 코드를 먼저 작성합니다.
   - 아직 실제 코드를 안짰으므로, 컴파일 에러가 나거나 테스트는 당연히 실패해야 합니다.
2. Green (테스트 통과)
   - 테스트를 통과하기 위한 최소한의 코드만 작성합니다.
   - 코드가 좀 더럽거나 완벽하지 않아도 괜찮습니다. 일단 녹색 불을 보는 것이 목표입니다.
3. Refactor (리팩토링)
   - 테스트가 통과된 상태를 유지하면서, 내부 코드를 깔끔하게 다듬습니다. (중복 제거, 변수명 변경, 구조 개선 등)
   - 이미 테스트가 보호해주고 있으므로 자신 있게 코드를 고칠 수 있습니다.

## 2. 간단한 예시

계산기의 더하기(add) 기능을 만든다고 가정해 봅시다.

1단계: Red (실패하는 테스트)

Calculator 클래스도 없고 add 메소드도 없지만, 있다고 상상하고 테스트부터 만듭니다.

```java
@Test
void 덧셈_테스트() {
    Calculator calc = new Calculator(); // 컴파일 에러 발생
    int result = calc.add(2, 3);        // 메서드 없음
    assertEquals(5, result);
}
```

2단계: Green (최소한의 구현)

오직 테스트를 통과하기 위해서만 코드를 짭니다.

```java
class Calculator {
    public int add(int a, int b) {
        return 5; // 2+3은 5니까 일단 5를 리턴해도 테스트는 통과함 (무식해보여도 OK)
    }
}
```

- 실제로는 `return a + b;` 라고 짜겠지만, TDD에서는 테스트 통과 자체가 최우선임을 보여주는 극단적 예시입니다.

3단계: Refactor (코드 개선)

`return 5;`는 말이 안 되므로 제대로 된 로직으로 고칩니다.

```java
class Calculator {
    public int add(int a, int b) {
        return a + b; // 일반적인 로직으로 수정
    }
}
```

수정 후 다시 테스트를 돌려 Green이 유지되는지 확인합니다.

## 3. 장점과 단점

### 장점

1. 높은 코드 품질: 코드를 작성할 때부터 모듈화와 설계를 고민하게 되어 코드가 깔끔해집니다.
2. 강력한 회귀 테스트: 기능을 수정하거나 리팩토링할 때, 기존 기능이 고장 나지 않았음을 즉시 확인할 수 있는 안전망이 됩니다.
3. 살아있는 문서: 테스트 코드 자체가 “이 기능은 이렇게 동작해야 한다”는 명세서 역할을 합니다.

### 단점

1. 개발 속도 저하 (초기): 실제 코드와 테스트 코드 두 벌을 짜야 하므로, 초기 생산성이 떨어질 수 있습니다. (장기적으로는 유지보수 비용 감소로 상쇄됨)
2. 높은 진입 장벽: “결과를 미리 예측하고 테스트를 먼저 짠다”는 사고방식에 적용하기 어렵습니다.

## 정리

TDD는 단순히 “테스트를 많이 짜자”가 아니라, “테스트를 통해 설계를 주도하고, 리팩토링을 생활화하여 코드의 품질을 보장하자”는 개발 철학입니다.
