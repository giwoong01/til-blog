---
title: 사용자가 웹사이트에 처음 접근했을 때 발생하는 과정
description:
date: 2025-11-25
tags: []
---

사용자가 웹 브라우저 주소창에 URL을 입력하고 엔터 키를 눌렀을 때, 웹페이지가 화면에 보이기까지의 과정은 네트워크 통신과 브러우저 렌더링이라는 두 가지 큰 축으로 나뉩니다. 각 단계별 세부 과정은 아래와 같습니다.

### 1. IP 주소 획득 (DNS Lookup)

브라우저는 사용자가 입력한 도메인 이름(예: www.google.com)을 컴퓨터가 이해할 수 있는 IP 주소(예: 142.250.206.206)로 변환해야 합니다.

1. 캐시 확인: 브라우저는 가장 먼저 자신의 로컬 캐시, 운영채제(OS)의 hosts 파일 및 DNS 캐시, 그리고 라우터의 캐시를 순차적으로 확인하여 해당 도메인의 IP가 저장되어 있는지 찾습니다.
2. DNS 질의: 캐시에 없다면, ISP(인터넷 서비스 제공자)의 DNS 서버(Local DNS)에 요청을 보냅니다.
   - Local DNS 서버는 루트 DNS → 최상위 도메인 DNS → 권한 있는 DNS 서버 순으로 질의하여 최종 IP 주소를 획득하고 브라우저에 전달합니다.

### 2. 서버와 연결 수립

획득한 IP 주소를 사용하여 웹 서버와 데이터를 주고받을 수 있는 통신 경로를 엽니다.

1. TCP 3-Wah Handshake: 신뢰성 있는 데이터 전송을 위해 클라이언트와 서버는 SYN, SYN + ACK, ACK 패킷을 주고받으며 논리적인 연결을 수립합니다.
2. TSL/SSL Handshake (HTTPS): 보안 연결(HTTPS)인 경우, TCP 연결 후 추가적으로 암호화 통신을 위한 핸드셰이크를 진행합니다. 인증서를 검증하고 세션 키를 교환하여 통신 내용을 암호화합니다.

### 3. 데이터 요청 및 수신 (HTTP Request & Response)

연결이 확립되면 실제 웹페이지 데이터를 요청합니다.

1. HTTP 요청 전송: 브라우저는 웹 서버에 `GET /index.html HTTP/1.1` 과 같은 형태의 요청 메시지를 보냅니다.
2. 서버 처리: 웹 서버는 요청을 수락하고, 필요한 경우 WAS 및 데이터베이스를 거쳐 비즈니스 로직을 수행합니다.
3. HTTP 응답 수신: 서버는 처리 결과인 HTML 문서를 포함하여 상태 코드와 헤어 정보를 브라우저로 전송합니다.

### 4. 브라우저 렌더링

브라우저는 수신한 HTML 문서를 해석하여 사용자가 볼 수 있는 화면으로 그려냅니다. 이 과정을 주요 렌더링 경로라고 합니다.

1. 파싱
   - DOM 트리 생성: HTML 마크업을 분석하여 문서 객체 모델 트리를 만듭니다.
   - CSSOM 트리 생성: HTML 내의 CSS 링크나 스타일 태그를 분석하여 CSS 객체 모델 트리를 만듭니다.
2. 렌더 트리 구축: DOM 트리와 CSSOM 트리를 결합하여 실제 화면에 표시될 요소들만 선별한 렌더 트리를 생성합니다. (예: display: none 인 요소는 제외됩니다.)
3. 레이아웃: 뷰포트(화면) 내에서 각 노드가 정확히 어디에 나타나야 하는지 위치와 크기를 계산합니다.
4. 페인팅: 계산된 위치에 픽셀을 채워 넣습니다.
5. 합성: 여러 레이어로 나뉘어 페인팅된 요소들을 최종적으로 합쳐 화면에 출력합니다.

## 이 흐름들 사이에 존재하는 인프라 아키텍처와 보안 정책

### 1. 트래픽 분산과 중계: 로드 밸런서와 리버스 프록시

사용자의 요청은 웹 서버(WAS)로 바로 도달하지 않습니다. 중간에 안정성과 부하 분산을 위한 계층이 존재합니다.

- 로드 밸런서
  - 개념: 수많은 트래픽을 여러 대의 서버로 균등하게 나누어주는 교통정리 역할을 합니다.
  - L4 로드 밸런서: IP와 포트 정보를 보고 패킷을 분산합니다. (전송 계층)
  - L7 로드 밸런서: URL, 쿠키, 헤더 내용을 보고 특정 서버로 요청을 보냅니다. (애플리케이션 계층, 예: /api는 A서버, /image는 B서버)
- 리버스 프록시
  - 개념: 클라이언트와 WAS 사이에 위치하여 요청을 대신 받아 WAS로 전달합니다.
  - 역할
    - 보안: 실제 WAS의 IP를 숨깁니다.
    - SSL Termination: HTTP 암호화/복호화를 여기서 수행하여 WAS의 부담을 줄입니다.
    - 캐싱: 정적 리소스(이미지, CSS)를 직접 처리하여 속도를 높입니다.

### 2. 브라우저 보안 정책: CORS (Cross-Origin Resource Sharing)

“데이터 요청 및 수신” 단계에서 백엔드 개발자를 가장 괴롭히는 이슈입니다.

- 동일 출처 정책 (SOP, Same-Origin Policy): 브라우저는 기본적으로 자신과 동일한 도메인의 서버로만 요청을 보낼 수 있습니다. (예: a.com 프론트엔드는 b.com 백엔드 API를 호출할 수 없음.)
- CORS: 다른 도메인 간의 자원 공유를 허용하기 위한 표준입니다.
- 동작 방식
  - 브라우저는 실제 요청(GET/POST)을 보내기 전에, OPTIONS 메소드로 “나 이거 보내도 돼?”라고 예비 요청(Preflight)을 보냅니다.
  - 서버가 헤더(Access-Control-Allow-Origin)로 허용을 해줘야 비로소 실제 요청을 보냅니다.

### 3. 렌더링 주체의 변화: CSR vs SSR

“브라우저 렌더링” 단계가 어디서 수행되느냐에 따른 아키텍처 차이입니다.

- SSR (Server Side Rendering)
  - 전통적인 방식 (JSP, Thhymeleaf)입니다. 서버에서 HTML을 다 완성해서 브라우저로 보냅니다.
  - 장점: 초기 로딩이 빠르고 검색 엔진 최적화에 유리합니다.
  - 단점: 서버 부하가 크고 페이지 이동 시 깜빡임이 발생할 수 있습니다.
- CSR (Client Side Rendering)
  - 현대적인 방 (React, Vue)입니다. 서버는 빈 껍데기 HTML과 JavaScript만 보내고, 브라우저가 JS를 실행하여 클라이언트에서 화면을 그립니다.
  - 장점: 사용자 경험이 좋고 서버 부하가 좋습니다.
  - 단점: 초기 로딩이 느리고, SEO 설정이 번거롭습니다.

### 요약

사용자의 웹 사이트 초기 접근 과정은 다음 4단계로 정리할 수 있습니다.

1. 주소 해석 (DNS): 도메인 이름을 IP 주소로 변환합니다.
2. 연결 수립 (TCP/TSL): 서버와 안전하고 신뢰할 수 있는 연결을 맺습니다.
3. 데이터 전송 (HTTP): 브라우저가 요청하고 서버가 HTML 파일을 응답합니다.
4. 렌더링 (Browser): 받은 HTML/CSS를 해석하여 DOM/CSSOM을 만들고, 위치를 계산하여 화면에 그립니다.
