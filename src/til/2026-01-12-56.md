---
title: 해시 충돌
description: 해시 충돌이란 무엇일까요?
date: 2026-01-12
tags: [해시 충돌]
---

해시 충돌은 해시 테이블 자료구조에서 서로 다른 두 개의 입력값이 동일한 해시값을 가지는 현상을 말합니다.

해시 함수는 임의의 길이의 데이터를 고정된 길이의 데이터로 매핑하는데, 입력 가능한 데이터의 수는 무한한 반면 출력될 수 있는 해시값의 가짓수는 유한하기 때문에, 충돌은 필연적으로 발생할 수 밖에 없습니다.

## 1. 해시 충돌의 개념

- 상황
  - Key A를 해싱했더니 Index 1이 나왔습니다.
  - Key B를 해싱했는데, 우연히 또 Index 1이 나왔습니다.
  - 이때 Index 1이라는 공간에 이미 A가 살고 있는데 B도 들어오려고 하는 상황입니다.

이 충돌을 제대로 해결하지 못하면 데이터가 덮어씌워지거나 유실될 수 있습니다. 이를 해결하는 대표적인 두 가지 방법이 체이닝과 개방 주소법입니다.

## 2. 해결법 1: 체이닝

“자리가 없으면 그 자리에 줄을 서라”

해시 테이블의 각 버킷에 데이터를 저장하는 대신, 연결 리스트의 포인터를 저장하는 방식입니다. 가장 대중적으로 사용되는 방식입니다.

- 동작 방식
  - 충돌이 발생하면, 해당 버킷에 있는 연결 리스트의 뒤에 새로운 세이터를 추가합니다.
  - 데이터를 찾을 때는 해시 값으로 버킷을 찾은 후, 리스트를 순차 탐색하여 키가 일치하는 데이터를 찾습니다.
- 장점
  - 구현이 단순하고, 해시 테이블이 꽉 차도 데이터를 계속 넣을 수 있습니다.
- 단점
  - 한 버킷에 데이터가 쏠리면(충돌이 잦으면), 검색 성능이 O(1)에서 최악의 경우 O(N)으로 떨어져 연결 리스트를 뒤지는 것과 다를 바 없어집니다.
- 포인트
  - Java의 HashMap은 기본적으로 체이닝 방식을 사용합니다. 하지만 Java 8부터는 성능 최적화를 위해, 하나의 버킷에 데이터가 8개 이상 쌓이면 연결 리스트대신 레드-블랙 트리로 자료구조를 변환합니다. 이렇게 하면 최악의 경우에도 검색 속도를 O(N)에서 O(log N)으로 획기적으로 줄일 수 있습니다.

## 3. 해결법 2: 개방 주소법

“자리가 없으면 빈자리를 찾아 떠나라”

충돌이 발생하면 다른 빈 버킷을 찾아 데이터를 저장하는 방식입니다. 메모리를 추가로 사용하지 않고 해시 테이블 내의 공간을 활용합니다.

빈자리를 찾는 규칙에 따라 다음과 같이 나뉩니다.

1. 선형 탐사
   - 충돌이 나면 바로 옆자리(+1, +2, +3…)를 하나씩 살펴봅니다.
   - 단점: 데이터가 특정 위치에 뭉치는 군집화 현상이 발생하여 성능이 저하될 수 있습니다.
2. 제곱 탐사
   - 충돌이 나면 보폭을 제곱수(1^2, 2^2, 3^2…)로 넓혀가며 살펴봅니다. 선형 탐사보다 덜 뭉칩니다.
3. 이중 해싱
   - 해시 함수를 두 개 사용하여, 하나는 최초 주소를 얻을 때, 다른 하나는 충돌 시 이동 폭을 얻을 때 사용합니다. 군집화를 가장 잘 막을 수 있습니다.

## 정리

어떤 방식을 쓰는 해시 테이블에 데이터가 꽉차면 충돌이 빈번해져 성능이 떨어집니다.

이를 막기 위해 적재율을 설정합니다. 보통 0.75(75%)가 차면 해시 테이블의 크기를 2배로 늘리고(Resize), 기존 데이터를 새로운 테이블로 다시 해싱하여 충돌을 분산시킵니다.
