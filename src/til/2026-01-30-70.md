---
title: JWT
description: JWT 특징과 주의 사항은 무엇인가요?
date: 2026-01-30
tags: [JWT]
---

JWT(JSON Web Token)는 유저의 인증 정보를 서버가 아닌 클라이언트(브라우저/웹)가 토큰 형태로 직접 들고 다니는 방시의 웹 표준 기술입니다.

쉽게 말해, 서버가 유저에게 “도장이 찍힌 출입증”을 발급해 주는 것입니다. 유저는 이 출입증만 보여주면 매번 신분증 검사(DB 조회) 없이 통과할 수 있습니다.

## 1. JWT의 구조

JWT는 점(.)으로 구분된 세 부분으로 구성됩니다. `Header.Payload.Signature` (예: `aaaaa.bbbbb.ccccc`)

1. Header (헤더): 토큰의 타입(JWT)과 서명 알고리즘(HS256 등) 정보를 담습니다.
2. Payload (페이로드): 실제 전달하려는 데이터를 담습니다. (유저 ID, 유효기간, 권한 등)
3. Signature (서명): 헤더와 페이로드의 내용이 위변조되지 않았음을 증명하는 암호화된 서명입니다. 서버만 알고 있는 비밀키로 생성됩니다.

## 2. 장점

1. 무상태성 (Stateless)
   - 기존 세션 방식은 서버 메모리나 DB에 Session ID를 저장해야 했습니다.
   - JWT는 토큰 자체에 모든 정보가 들어있으므로, 서버는 별도의 저장소 (Redis 등)를 유지할 필요가 없습니다. 서버 확장(Scale-out) 시 매우 유리합니다.
2. 확장성 (Scalability)
   - 세션 불일치 문제를 해결할 필요가 없으므로, 여러 대의 서버가 운영되는 MSA 환경에서 인증 정보를 공유하기 쉽습니다.
3. 모바일 친화적
   - 쿠키를 잘 쓰지 않는 모바일 앱 환경에서도 HTTP 헤더에 담아 쉽게 인증할 수 있습니다.

## 3. 단점 및 보안

1. 정보는 암호화된 것이 아니라 인코딩된 것이다.
   - 문제: JWT의 Payload는 단순히 Base64로 인코딩되어 있습니다. 즉, 누구나 이 토큰을 주워서 디코딩 사이트에 넣으면 내용을 훤히 들여다볼 수 있습니다.
   - 주의: 비밀번호, 주민번호 같은 민감한 개인정보는 절대 Payload에 담으면 안됩니다.
2. 한 번 발급되면 돌이킬 수 없다 (통제 불가)

   - 문제: 세션 방식은 서버에서 세션을 지워버리면 즉시 로그아웃 시킬 수 있습니다. 하지만 JWT는 한 번 발급해서 사용자에게 주면, 유효기간이 만료될 때까지 서버가 이를 막을 방법이 없습니다. (해커가 탈취해가면 만료될 때까지 프리패스입니다.)
   - 해결책
     - AccessToken의 유효기간을 아주 짧게 설정합니다.
     - Refresh Token을 함께 발급하여 보안을 보완합니다.

3. 토큰 크기

   - Payload에 정보를 너무 많이 담으면 토큰 길이가 길어집니다. 매 요청마다 헤더에 실어 보내야 하므로 네트워크 대역폭을 낭비할 수 있습니다. 꼭 필요한 정보만 담아야 합니다.

4. 저장 위치의 딜레마 (XSS vs CSRF)
   - LocalStorage 저장: 구현은 편하지만, 해커가 자바스크립트(XSS 공격)로 토큰을 탈취하기 쉽습니다.
   - HTTPOnly Cookie 저장: 자바스크립트로 접근할 수 없어 XSS에는 안전하지만, CSRF 공격에 취약해질 수 있습니다.
   - 권장: 보통 Refresh Token은 HTTPOnly Cookie에, Access Token은 메모리 변수에 담아 사용하는 방식이 가장 안전하다고 평가받습니다.

## 정리

- JWT: 서버가 날 못알아볼까 봐 내가 직접 들고 다니는 인증서
- 장점: 서버가 가벼워짐, 확장이 쉬움
- 주의: 민감한 정보 절대 금지, 탈취 시 대책(Refresh Token) 마련 필수
