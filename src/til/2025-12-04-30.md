---
title: Connection Timeout, Socket Timeout, Read Timeout의 차이점
description: Connection Timeout, Socket Timeout, Read Timeout의 차이점은 무엇인가요?
date: 2025-12-04
tags: [Connection Timeout, Socket Timeout, Read Timeout]
---

이 세 가지 용어는 TCP 통신의 단계와 OS 커널의 소켓 동작에 따라 구분됩니다.

## 1. Connection Timeout (연결 타임아웃)

- 기술적 정의: 클라이언트가 서버와 TCP 3-Way Handshake를 완료하기까지 소요되는 시간의 임계값입니다.
- 동작 단계: Socket.connect() 호출 시점부터 연결이 수립될 때까지의 구간입니다.
- 상세 메커니즘
  1. 클라이언트가 서버의 IP:Port로 SYN 패킷을 보냅니다.
  2. 이때부터 타이머가 시작됩니다.
  3. 서버로부터 SYN+ACK 패킷을 받지 못한 채 설정된 시간이 지나면 ConnectTimeoutException이 발생합니다.
- 발생 원인
  1. 대상 서버의 IP가 존재하지 않거나 라우팅이 불가능할 때.
  2. 방화벽이 해당 포트 패킷을 드롭할 때.
  3. 서버 프로세스가 죽어있거나, 백로그 큐가 가득 차서 연결을 수락할 수 없을 때.

## 2. Socket Timeout (소켓 타임아웃)

- 기술적 정의: 소켓의 read() 메소드가 블로킹 되어 있는 시간의 임계값입니다.
- 동작 단계: 연결 수립 이후, 데이터를 주고받는 Data Transfer 구간입니다.
- 상세 메커니즘
  - OS 레벨의 설정(SO_TIMEOUT)입니다.
  - 애플리케이션이 InputStream.read()를 호출했을 때, 수신 버퍼에 읽을 데이터가 없다면 스레드는 대기 상태에 들어갑니다.
  - 이 대기 시간이 설정된 시간을 초과하면 SocketTimeoutException이 발생합니다.
- 주의점
  - 이것은 “전체 응답 시간”을 의미하지 않습니다.
  - “패킷과 패킷 사이의 유휴 시간”을 의미합니다.
  - 예를 들어, 타임아웃이 10초이고, 1GB 파일을 다운로드 하는 데 1시간이 걸리더라도, 데이터 패킷이 9초마다 꾸준히 들어온다면 타임아웃은 발생하지 않습니다.

## 3. Read Timeout (읽기 타임아웃)

- 기술적 정의: 대부분의 고수준 HTTP 클라이언트 라이브러리(Spring RestTemplate, HttpClient)에서 사용하는 용어로, 내부적으로는 Socket Timeout과 동일합니다.
- 관계
  - Read Timeout 설정을 하면, 라이브러리는 내부 소켓에 socket.setSoTimeout(milliseconds)를 실행합니다.
  - 즉, 클라이언트가 요청을 모두 보낸 후, 서버로부터 첫 번째 데이터 패킷이 도착할 때까지의 시간, 혹은 패킷 간의 간격이 설정된 시간을 초과하면 발생합니다.
- 발생 원인
  - 서버의 로직 처리가 오래 걸려 응답 패킷을 보내지 못할 때.
  - 네트워크 혼잡으로 패킷 전송이 지연될 때.

## 정리

애플리케이션의 안정성을 위해서는, 물리적 연결 실패를 감지하는 Connection Timeout과, 논리적 응답 지연을 감지하는 Read Timeout을 각각 독립적으로 설정해야 합니다.
