---
title: 무중단 배포
description: 무중단 배포는 무엇인가요?
date: 2026-02-17
tags: [무중단 배포]
---

무중단 배포란 서비스를 업데이트할 때, 사용자가 서비스 중단을 전혀 느끼지 못하도록 서버를 중지하지 않고 배포하는 기술을 말합니다.

## 1. 배포 방식 3가지

### 1. 롤링 배포

한 대씩 차례대로 교체하기

서버가 5대 있다면, 한 번에 다 바꾸는 게 아니라 한 대를 끄고 업데이트해서 다시 켜고, 그 다음 옆에 있는 서버를 끄고… 를 반복하는 방식입니다.

- 장점: 추가적인 서버 자원이 필요 없습니다.
- 단점: 배포 도중에는 구버전과 신버전이 공존하므로 호환성이 문제가 생길 수 있습니다. 배포 속도가 느립니다.

### 2. 블루-그린 배포

“똑같은 쌍둥이 서버를 준비해서 한순간에 스위치하기”

현재 서비스 중인 환경을 블루, 새 버전을 배포할 환경을 그린이라고 부릅니다.

1. Blue는 실제 사용자가 쓰고 있습니다.
2. Green에 새 버전을 배포하고 테스트합니다. (사용자는 모름)
3. 문제가 없으면, 로드 밸런서가 트래픽을 Green으로 돌립니다.
4. 이제 Green이 실서비스가 되고, Blue는 대기 상태가 됩니다.

- 장점: 배포가 매우 빠르고, 문제 발생 시 즉시 원상복구가 가능합니다. 구버전/신버전 공존 문제가 없습니다.
- 단점: 서버 자원이 2배로 필요하므로 비용이 많이듭니다.

## 3. 카나리 배포

“소수에게만 먼저 간 보기”

옛날 광부들이 유독가스를 감지하기 위해 카나리아 새를 먼저 들여보낸 것에서 유래했습니다.

1. 새 버전을 전체 서버의 5% 정도만 배포합니다.
2. 일부 사용자만 새 버전을 쓰게 하고, 오류가 없는지 지켜봅니다.
3. 문제가 없으면 점차 10%, 50%, 100%로 확대합니다.

- 장점: 심각한 버그가 있어도 소수의 사용자만 겪게 되므로 위험 부담이 가장 적습니다. (A/B 테스트용으로도 씀)\
- 단점: 트래픽을 정교하게 제어하는 기술이 필요해 설정이 복잡합니다.

## 정리

대부분의 소규모/중규모 프로젝트는 롤리이나 블루-그린 방식을 주로 사용하며, 대규모 트래픽을 다루는 곳에서는 안정성을 위해 카나리 배포를 선호합니다.