---
title: 캐싱 전략
description: 캐싱 전략은 무엇이 있을까요?
date: 2025-12-19
tags: [캐싱]
---

캐시 전략은 데이터의 효율적인 접근과 성능 향상을 위해 자주 사용되는 데이터를 빠른 저장소에 보관하고 관리하는 방법을 의미합니다.

데이터를 캐시와 주 저장소(DB) 사이에 어떻게 배치하고 동기화하느냐에 따라 여러 전략이 있으며, 이는 시스템의 일관성, 성능, 안정성에 직접적인 영향을 미칩니다.

## 1. Look-Aside (Cache-Aside)

가장 일반적이고 보편적인 패턴이며, 애플리케이션이 캐시와 DB에 대한 책임을 모두 집니다.

- 읽기 (Read) 과정
  1. 애플리케이션이 캐시에 데이터가 있는지 확인합니다.
  2. 캐시에 데이터가 있으면 (Cache Hit): 캐시에서 바로 데이터를 반환합니다.
  3. 캐시에 데이터가 없으면 (Cache Miss): DB에서 데이터를 조회합니다.
  4. DB에서 가져온 데이터를 캐시에 저장한 후, 애플리케이션으로 반환합니다.
- 쓰기 (Write) 과정
  1. 애플리케이션이 DB에 먼저 데이터를 업데이트합니다.
  2. DB 업데이트가 성공하면, 캐시에서 해당 데이터를 무효화하거나 삭제합니다. (캐시에 오래된 데이터가 남아있는 것을 방지합니다.)
- 장점: 캐시와 DB의 데이터 일관성을 명확히 관리할 수 있습니다.
- 단점: 캐시 미스 시 DB에 접근하는 부하가 발생하고, 데이터 삽입 시 캐시를 무효화하는 두 번의 작업이 필요합니다.

## 2. Write-Through

데이터 쓰기 시 캐시와 DB 모두에 동기적으로 업데이트하는 방식입니다.

- 쓰기 (Write) 과정
  1. 애플리케이션이 캐시에 데이터를 씁니다.
  2. 캐시는 DB에도 동시에 데이터를 반영합니다.
  3. 두 작업이 모두 성공해야 애플리케이션에 성공을 알립니다.
- 장점: 캐시와 DB의 데이터가 항상 일치하므로 데이터 일관성이 매우 높습니다.
- 단점: 모든 쓰기 작업이 캐시와 DB 두 곳에 모두 반영되어야 하므로 쓰기 작업의 지연 시간이 길어집니다. 쓰기 성능이 중요한 서비스에는 부적합합니다.

## 3. Write-Back (Write-Behind)

데이터 쓰기 시 캐시에만 먼저 쓰고, 일정 시간/주기가 지난 후 DB에 배치로 반영하는 비동기 방식입니다.

- 쓰기 (Write) 과정
  1. 애플리케이션이 캐시에 데이터를 씁니다.
  2. 캐시는 즉시 애플리케이션에 성공을 알립니다. (매우 빠른 쓰기 성능 보장)
  3. 캐시는 내부 버퍼에 쓰기 작업을 보관하며, 지정된 시간 간격으로 이 데이터를 모아서 비동기적으로 DB에 업데이트합니다.
- 장점: 쓰기 성능이 가장 빠릅니다. DB I/O 부하를 줄여줍니다. (예: 좋아요, 조회수 카운트 등)
- 단점: 캐시에 데이터가 쌓여있는 동안 서버가 다운되면 DB에 반영되지 않은 데이터가 유실될 위험이 있습니다. 데이터의 정합성이 낮아질 수 있습니다.

## 4. Write-Around

Look-Aside 패턴의 변형으로, 쓰기 시 캐시를 완전히 우회하고 DB에만 직접 쓰는 방식입니다.

- 쓰기 (Write) 과정
  1. 애플리케이션이 캐시를 무시하고 DB에만 직접 데이터를 업데이트합니다.
  2. 캐시에는 아무런 작업을 하지 않습니다.
- 읽기 (Read) 과정: Look-Aside와 동일하게 캐시 미스 시에만 DB에서 읽어와 캐시에 저장합니다.
- 장점: 대량 쓰기 작업이 캐시를 불필요하게 오염시키는 것을 방지합니다. (쓰기 작업이 많은데, 그 데이터가 자주 읽히지는 않는 경우 유리)
- 단점: 방금 쓴 데이터가 캐시에 없으므로, 쓰기 직후 곧바로 읽으려 하면 반드시 Cache Miss가 발생하여 DB에 접근해야 합니다. (지연 시간 발생)

## 정리

실제 운영 환경에서는 Look-Aside와 Write-Back이 가장 많이 사용됩니다.
